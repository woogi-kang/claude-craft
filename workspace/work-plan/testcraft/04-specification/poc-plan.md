# POC 계획서: TestCraft 핵심 기술 검증

> Proof of Concept Plan
> 버전: 1.0
> 작성일: 2026-01-16
> 상태: Draft

---

## 1. POC 개요

### 1.1 목적

TestCraft의 핵심 가치인 **"PDF 기획서 → AI 테스트케이스 자동 생성"** 품질을 MVP 개발 전에 검증합니다.

```yaml
핵심 검증 항목:
  1. PDF 파싱 정확도: 기획서 텍스트 추출 품질
  2. AI TC 생성 품질: 생성된 TC의 유효성
  3. 엣지케이스 적합성: 플랫폼별 엣지케이스 품질
  4. 처리 시간: 5분 이내 완료 가능 여부
```

### 1.2 배경

| 리스크 | 영향 | POC 검증 필요성 |
|-------|------|---------------|
| PDF 파싱 실패 | 서비스 핵심 기능 무력화 | **Critical** |
| TC 품질 불만족 | 사용자 이탈, 부정 평판 | **Critical** |
| 엣지케이스 누락 | 차별화 가치 상실 | **High** |
| 처리 시간 초과 | UX 저하 | **Medium** |

### 1.3 범위

**In Scope**:
- PDF 텍스트 추출 정확도 검증
- GPT-4 기반 TC 생성 품질 검증
- Android/iOS 엣지케이스 매칭 로직 검증
- End-to-End 처리 시간 측정

**Out of Scope**:
- 프로덕션 수준 UI/UX
- 사용자 인증/프로젝트 관리
- Notion/Figma 연동
- 실제 배포 환경

---

## 2. 테스트 샘플 정의

### 2.1 PDF 샘플 목록

| ID | 샘플명 | 페이지 | 복잡도 | 도메인 | 특징 |
|----|-------|-------|--------|-------|------|
| S-01 | 로그인 기능 기획서 | 3 | 낮음 | 인증 | 기본 기능, 단순 플로우 |
| S-02 | 결제 기능 기획서 | 8 | 중간 | 핀테크 | 복잡한 분기, 예외 케이스 다수 |
| S-03 | 소셜 피드 기획서 | 12 | 높음 | SNS | 다양한 인터랙션, 플랫폼 차이 |
| S-04 | 설정 화면 기획서 | 5 | 낮음 | 공통 | 토글/선택 UI, 권한 연관 |
| S-05 | 이미지 기반 기획서 | 6 | 특수 | - | 텍스트 적음, 와이어프레임 위주 |

### 2.2 샘플 상세 설명

#### S-01: 로그인 기능 기획서

```yaml
파일명: login-feature-spec.pdf
페이지: 3
예상 기능 수: 5개
예상 TC 수: 30-40개

포함 내용:
  - 이메일/비밀번호 로그인
  - 소셜 로그인 (Google, Apple)
  - 비밀번호 찾기
  - 자동 로그인
  - 로그아웃

검증 포인트:
  - 기본 파싱 정확도
  - 인증 관련 엣지케이스 생성
  - Face ID/Touch ID 케이스 자동 포함 여부
```

#### S-02: 결제 기능 기획서

```yaml
파일명: payment-feature-spec.pdf
페이지: 8
예상 기능 수: 12개
예상 TC 수: 80-100개

포함 내용:
  - 상품 선택 → 결제 진행
  - 카드 결제 (신용/체크)
  - 간편 결제 (카카오페이, 네이버페이)
  - 결제 취소/환불
  - 결제 실패 처리
  - 영수증 발급

검증 포인트:
  - 복잡한 분기 처리
  - 결제 실패 시나리오 자동 생성
  - 금액 경계값 테스트 포함 여부
```

#### S-03: 소셜 피드 기획서

```yaml
파일명: social-feed-spec.pdf
페이지: 12
예상 기능 수: 15개
예상 TC 수: 120-150개

포함 내용:
  - 피드 목록 조회 (무한 스크롤)
  - 게시물 작성/수정/삭제
  - 좋아요/댓글/공유
  - 이미지/영상 업로드
  - 알림
  - 사용자 프로필

검증 포인트:
  - 대용량 문서 처리
  - 복잡한 인터랙션 시나리오
  - 플랫폼별 차이 (공유 기능 등)
```

#### S-04: 설정 화면 기획서

```yaml
파일명: settings-screen-spec.pdf
페이지: 5
예상 기능 수: 8개
예상 TC 수: 40-50개

포함 내용:
  - 알림 설정 (푸시, 이메일)
  - 개인정보 설정
  - 보안 설정 (비밀번호 변경, 2FA)
  - 연결된 계정 관리
  - 앱 정보/버전

검증 포인트:
  - 설정 토글 상태 테스트
  - 권한 관련 엣지케이스
  - 시스템 설정 연동 케이스
```

#### S-05: 이미지 기반 기획서 (도전 케이스)

```yaml
파일명: wireframe-heavy-spec.pdf
페이지: 6
예상 기능 수: 불명확
예상 TC 수: 제한적

포함 내용:
  - 와이어프레임 이미지 위주
  - 최소한의 텍스트 설명
  - 화살표/플로우 다이어그램

검증 포인트:
  - 텍스트 부족 상황 처리
  - 적절한 에러 메시지/안내
  - 대체 방안 제시 여부
```

---

## 3. 평가 기준

### 3.1 PDF 파싱 정확도

| 지표 | 측정 방법 | 성공 기준 |
|-----|----------|----------|
| 텍스트 추출률 | 원본 대비 추출된 텍스트 비율 | ≥ 95% |
| 구조 유지율 | 섹션/항목 구조 보존 비율 | ≥ 90% |
| 오류율 | 인코딩/깨짐 문자 비율 | ≤ 2% |
| 테이블 파싱 | 테이블 데이터 추출 정확도 | ≥ 85% |

**측정 도구**:
- PyMuPDF (fitz)
- pdfplumber
- 수동 검수 (샘플링)

### 3.2 TC 생성 품질

| 지표 | 정의 | 성공 기준 |
|-----|------|----------|
| **유효 TC 비율** | 실제 테스트 가능한 TC 비율 | **≥ 80%** |
| 기능 커버리지 | 기획서 기능 대비 TC 커버리지 | ≥ 90% |
| 중복 TC 비율 | 의미적으로 중복된 TC | ≤ 10% |
| 완성도 | 전제조건/단계/예상결과 완비 | ≥ 85% |

**유효 TC 정의**:
```yaml
valid_tc_criteria:
  - 명확한 테스트 목적이 있음
  - 실행 가능한 단계가 기술됨
  - 예상 결과가 검증 가능함
  - 기획서 내용과 관련됨
  - 중복이 아님

invalid_tc_examples:
  - "로그인 기능을 테스트한다" (단계 없음)
  - "버튼이 잘 작동해야 한다" (모호함)
  - "시스템이 정상 동작한다" (검증 불가)
```

### 3.3 엣지케이스 품질

| 지표 | 정의 | 성공 기준 |
|-----|------|----------|
| 플랫폼 적합성 | 선택 플랫폼에 맞는 엣지케이스 | ≥ 90% |
| 신규 발견률 | 기획서에 없는 유효 케이스 | ≥ 5개/기능 |
| 오탐지율 | 해당 없는 엣지케이스 포함 | ≤ 15% |

**평가 대상 엣지케이스 (샘플)**:

| 플랫폼 | 카테고리 | 예시 | 평가 방법 |
|-------|---------|------|----------|
| Android | 네비게이션 | Back Button 처리 | 관련 기능에 자동 포함 여부 |
| Android | 권한 | 권한 거부 시나리오 | 권한 필요 기능에 포함 여부 |
| iOS | 생체인증 | Face ID 3회 실패 | 인증 기능에 포함 여부 |
| iOS | 레이아웃 | Safe Area 대응 | 모든 화면에 포함 여부 |
| Web | 브라우저 | Chrome/Safari 호환 | 웹 선택 시 포함 여부 |

### 3.4 처리 시간

| 샘플 | 페이지 | 목표 시간 | 최대 허용 |
|-----|-------|----------|----------|
| S-01 | 3 | 30초 | 60초 |
| S-02 | 8 | 90초 | 120초 |
| S-03 | 12 | 120초 | 180초 |
| S-04 | 5 | 45초 | 90초 |
| S-05 | 6 | 60초 | 120초 |

---

## 4. 기술 스택 (POC)

### 4.1 아키텍처

```
┌─────────────────────────────────────────────────────────────────┐
│                         POC 아키텍처                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   [PDF 파일]                                                     │
│       │                                                          │
│       ▼                                                          │
│   ┌───────────────┐                                             │
│   │ PDF Parser    │  PyMuPDF + pdfplumber                       │
│   │ (텍스트 추출) │                                             │
│   └───────┬───────┘                                             │
│           │                                                      │
│           ▼                                                      │
│   ┌───────────────┐                                             │
│   │ Text Processor│  정제, 구조화, 청킹                          │
│   │ (전처리)      │                                             │
│   └───────┬───────┘                                             │
│           │                                                      │
│           ▼                                                      │
│   ┌───────────────┐                                             │
│   │ LLM API       │  OpenAI GPT-4 / GPT-4o                      │
│   │ (TC 생성)     │                                             │
│   └───────┬───────┘                                             │
│           │                                                      │
│           ▼                                                      │
│   ┌───────────────┐                                             │
│   │ Edge Case DB  │  플랫폼별 엣지케이스 매칭                    │
│   │ (엣지케이스)  │                                             │
│   └───────┬───────┘                                             │
│           │                                                      │
│           ▼                                                      │
│   ┌───────────────┐                                             │
│   │ TC Formatter  │  JSON → 표준 TC 형식                        │
│   │ (출력)        │                                             │
│   └───────────────┘                                             │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

### 4.2 기술 선택

| 컴포넌트 | 선택 기술 | 대안 | 선택 이유 |
|---------|----------|------|----------|
| PDF 파싱 | PyMuPDF + pdfplumber | PDFBox, Tesseract | Python 생태계, 정확도 |
| LLM | GPT-4o | Claude, Gemini | 비용 효율, TC 생성 품질 |
| 프롬프트 | Few-shot + CoT | Zero-shot | 품질 향상 |
| 런타임 | Python 3.11 | Node.js | 데이터 처리 용이 |

### 4.3 프롬프트 설계 (초안)

```python
TC_GENERATION_PROMPT = """
당신은 10년 경력의 QA 전문가입니다.
주어진 기획서 내용을 분석하여 테스트케이스를 생성합니다.

## 입력
- 기획서 내용: {prd_content}
- 대상 플랫폼: {platforms}

## 출력 형식
각 테스트케이스는 다음 형식으로 작성합니다:

```json
{
  "tc_id": "TC-001",
  "feature": "로그인",
  "scenario": "이메일 로그인 성공",
  "precondition": "가입된 계정이 존재함",
  "steps": [
    "1. 로그인 화면 진입",
    "2. 이메일 입력: test@example.com",
    "3. 비밀번호 입력: ********",
    "4. 로그인 버튼 클릭"
  ],
  "expected_result": "메인 화면으로 이동하고 사용자 정보가 표시됨",
  "priority": "High",
  "platform": "All",
  "category": "기능 테스트"
}
```

## 지침
1. 정상 케이스와 예외 케이스를 모두 포함합니다.
2. 경계값 테스트를 포함합니다.
3. 플랫폼별 특성을 고려합니다.
4. 실행 가능한 구체적인 단계를 작성합니다.
5. 검증 가능한 예상 결과를 작성합니다.

기획서를 분석하고 테스트케이스를 생성하세요.
"""
```

---

## 5. 실행 계획

### 5.1 타임라인

```
Week 5 (MVP 8주 기준)
├── Day 1-2: 환경 구축 + PDF 파서 개발
├── Day 3: LLM 연동 + 프롬프트 튜닝
├── Day 4: 엣지케이스 DB 구축 + 매칭 로직
└── Day 5: 전체 파이프라인 테스트 + 평가
```

### 5.2 세부 일정

| Day | 활동 | 산출물 | 담당 |
|-----|------|--------|------|
| Day 1 | 개발 환경 구축, PDF 파서 선택 | 파서 비교 문서 | Dev |
| Day 2 | PDF 파싱 모듈 개발, S-01~S-03 테스트 | 파싱 모듈 v0.1 | Dev |
| Day 3 | LLM API 연동, 프롬프트 설계 | TC 생성 모듈 v0.1 | Dev |
| Day 4 | 엣지케이스 DB (Android/iOS 각 50개), 매칭 로직 | 엣지케이스 DB v0.1 | Dev + QA |
| Day 5 | E2E 테스트, 품질 평가, 결과 분석 | POC 결과 보고서 | All |

### 5.3 평가 프로세스

```
┌─────────────────────────────────────────────────────────────────┐
│                       POC 평가 프로세스                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│   [1. 자동 실행]                                                 │
│       │                                                          │
│       ├── S-01 ~ S-05 PDF 입력                                  │
│       ├── TC 생성 실행                                          │
│       └── 처리 시간 측정                                         │
│           │                                                      │
│           ▼                                                      │
│   [2. 자동 평가]                                                 │
│       │                                                          │
│       ├── TC 수 카운트                                          │
│       ├── 형식 검증 (JSON Schema)                               │
│       └── 중복 감지                                              │
│           │                                                      │
│           ▼                                                      │
│   [3. 수동 평가] ★ 핵심                                         │
│       │                                                          │
│       ├── 유효 TC 판정 (QA 전문가)                              │
│       ├── 기능 커버리지 확인                                     │
│       └── 엣지케이스 적합성 검토                                 │
│           │                                                      │
│           ▼                                                      │
│   [4. 결과 종합]                                                 │
│       │                                                          │
│       ├── 성공 기준 대비 평가                                    │
│       ├── 개선 포인트 도출                                       │
│       └── Go/No-Go 결정                                         │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 6. 성공 기준 요약

### 6.1 Go/No-Go 기준

| 항목 | 성공 기준 | 가중치 | Go 조건 |
|-----|----------|-------|---------|
| 유효 TC 비율 | ≥ 80% | 40% | **필수** |
| PDF 파싱 정확도 | ≥ 95% | 25% | 필수 |
| 처리 시간 | ≤ 180초 (12p) | 20% | 권장 |
| 엣지케이스 적합성 | ≥ 90% | 15% | 권장 |

### 6.2 의사결정 매트릭스

| 결과 | 조건 | 결정 |
|-----|------|------|
| **Go** | 필수 항목 모두 충족 + 권장 1개 이상 | MVP 진행 |
| **Conditional Go** | 필수 항목 충족, 권장 미달 | 개선 후 재평가 |
| **No-Go** | 필수 항목 미충족 | 기술 재검토 |

### 6.3 실패 시 대안

| 실패 항목 | 대안 | 영향 |
|----------|------|------|
| PDF 파싱 실패 | OCR 추가 (Tesseract) | 비용/시간 증가 |
| TC 품질 불만족 | 프롬프트 튜닝, Fine-tuning 검토 | 일정 지연 |
| 처리 시간 초과 | 스트리밍, 배치 처리 | UX 조정 |

---

## 7. 리소스 및 비용

### 7.1 필요 리소스

| 리소스 | 상세 | 예상 비용 |
|-------|------|----------|
| 개발 인력 | 1명 × 5일 | - |
| OpenAI API | GPT-4o, 예상 10만 토큰 | ~$5 |
| 테스트 PDF | 5개 샘플 제작 | - |
| QA 검수 인력 | 1명 × 1일 | - |

### 7.2 예상 총 비용

```
개발 인력: 5 man-days
API 비용: ~$5
기타: $0
---
총계: 5 man-days + $5
```

---

## 8. 리스크 및 완화

| 리스크 | 확률 | 영향 | 완화 전략 |
|-------|------|------|----------|
| PDF 파싱 품질 저하 | 중 | 높음 | 복수 파서 병행, OCR 백업 |
| LLM 응답 불안정 | 낮 | 중 | 재시도 로직, 타임아웃 처리 |
| 프롬프트 품질 부족 | 중 | 높음 | 반복 튜닝, Few-shot 예시 확보 |
| 평가 기준 모호 | 낮 | 중 | 평가 가이드라인 사전 정의 |

---

## 9. 산출물

### 9.1 POC 완료 시 산출물

| 산출물 | 형식 | 용도 |
|-------|------|------|
| POC 소스코드 | Python | MVP 개발 기반 |
| 평가 결과 보고서 | Markdown | 의사결정 근거 |
| 프롬프트 버전 | Text | MVP 적용 |
| 엣지케이스 DB v0.1 | JSON | MVP 적용 |
| 샘플 TC 결과물 | Excel | 품질 데모 |

### 9.2 보고서 목차 (예정)

```
1. Executive Summary
2. 테스트 환경
3. 샘플별 결과
   - S-01: 로그인 기능
   - S-02: 결제 기능
   - S-03: 소셜 피드
   - S-04: 설정 화면
   - S-05: 이미지 기반
4. 종합 평가
   - 성공 기준 대비 결과
   - 강점/약점 분석
5. 개선 권고사항
6. Go/No-Go 권고
7. 부록: 생성된 TC 샘플
```

---

## 10. 다음 단계

### POC 성공 시

1. POC 코드 → MVP 모듈로 리팩토링
2. 엣지케이스 DB 확장 (각 플랫폼 100개+)
3. 프롬프트 버전 관리 체계 구축
4. Week 5-6 핵심 기능 개발 착수

### POC 재검토 시

1. 실패 원인 분석
2. 기술 대안 검토 (OCR, 다른 LLM)
3. 1-2일 추가 POC 수행
4. 일정 조정 검토

---

## 11. 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|-----|------|----------|--------|
| 1.0 | 2026-01-16 | 초안 작성 | Alfred |

---

*Document generated by Alfred - POC Planning Skill*
